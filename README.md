Exercices asynchronous programming 0
Ces exercices devront tous être pushés sur un repository accessible depuis github.
Ce repository devra se nommer exo-async-0.
Suivez les instructions des cours précédents pour initialiser votre répertoire de travail en package Node.js avec yarn init.
Vous devrez fournir le lien de votre repo github dans le formulaire de rendus d'exercices suivant: https://forms.gle/hodtGoSpJuqireE89 Essayez d'aller le plus loin possible.
Certains exercices nécessitent une réflexion approfondie prenez votre temps pour anticiper les différentes étapes que devra traiter votre programme.

Certains programmes que vous devez créer utilisent une interaction avec la ligne de commande.
Il faut absolument vérifier que les inputs envoyés à votre programme sont corrects et que votre programme ne se retrouve jamais dans un état indéfini, tout doit être sous contrôle et un message clair doit être affiché à l'utilisateur en cas de mauvaise manipulation de la ligne de commande.

correctMe.js
Ce programme asynchrone ne fonctionne pas.
Ajouter le code nécessaire pour faire fonctionner ce programme.

const fsPromises = require('fs/promises')

try {
  let txt1 = await fsPromises.readFile('hello.txt', 'utf-8')
  console.log(txt1)
} catch (e) {
  console.log(e.message)
}
toUpperCase.js
Convertir le code suivant qui utilise les versions synchrones de l'api du module fs, en un code qui utilise les versions asynchrones de l'api du module fs/promises.

const fs = require('fs')
try {
  let txt1 = fs.readFileSync('hello.txt', 'utf-8')
  txt1 = txt1.toUpperCase()
  fs.writeFileSync('hello.txt', txt1)
} catch (e) {
  console.log(e.message)
}
my-wget.js
Ecrivez un programme my-wget.js qui prend comme paramètre sur la ligne de commande une url, qui telecharge son contenu, et l'écrit dans un fichier index.html sur votre disque.
Il faudra utiliser le package axios et des fonctions du module fs/promises pour cela.

my-wget.js
Améliorer l'exercice précédent pour afficher dans le cas d'un download réussi, la taille des données downloadées.
Vous pouvez récupérer cette information soit:

grâce à la fonction fsPromises.stat qui retourne un objet Stats qui contient cette information: https://nodejs.org/api/fs.html#fs_class_fs_stats. Il faudra appliquer cette fonction fsPromises.stat au fichier index.html déjà écrit.
grâce à la propriété headers['content-length'] de l'objet "response" retourné par axios.get.
Un console.log(response.headers) peut vous aider à comprendre la structure du header d'une réponse http.